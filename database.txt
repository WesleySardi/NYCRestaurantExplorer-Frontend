CREATE TABLE restaurants (
  camis SERIAL PRIMARY KEY,
  name VARCHAR(255),
  borough VARCHAR(50),
  building VARCHAR(50),
  street VARCHAR(255),
  zipcode VARCHAR(10),
  phone VARCHAR(15),
  inspection_date TIMESTAMP,
  critical_flag VARCHAR(50),
  record_date TIMESTAMP,
  latitude FLOAT,
  longitude FLOAT,
  community_board VARCHAR(50),
  council_district VARCHAR(50),
  census_tract VARCHAR(50),
  bin VARCHAR(50),
  bbl VARCHAR(50),
  nta VARCHAR(50)
);

CREATE TABLE inspections (
  id SERIAL PRIMARY KEY,
  restaurant_id INT REFERENCES restaurants(camis),
  grade VARCHAR(50), -- Exemplo: "A", "B", etc.
  inspection_date TIMESTAMP NOT NULL,
  critical_flag VARCHAR(50), -- Exemplo: "Critical" ou "Non-Critical"
  record_date TIMESTAMP DEFAULT NOW()
);

// Ap√≥s restaurants estar populado

INSERT INTO inspections (restaurant_id, grade, inspection_date, critical_flag, record_date)
SELECT camis, critical_flag, inspection_date, critical_flag, record_date
FROM restaurants
WHERE inspection_date IS NOT NULL;

ALTER TABLE restaurants
DROP COLUMN inspection_date,
DROP COLUMN critical_flag,
DROP COLUMN record_date;

